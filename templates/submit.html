<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Submit Note</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
<h1>Submit a Note</h1>
<form method="POST" action="/submit">
    <textarea id="note" name="note" maxlength="{{ max_chars }}" required></textarea>
    <div class="counter" id="charCount">0/{{ max_chars }}</div>
    <button type="submit">Submit</button>
</form>

<script>
const textarea = document.getElementById('note');
const charCount = document.getElementById('charCount');
const maxChars = {{ max_chars }};

textarea.addEventListener('input', () => {
    if(textarea.value.length > maxChars){
        textarea.value = textarea.value.slice(0, maxChars);
    }
    charCount.textContent = `${textarea.value.length}/${maxChars}`;
});
</script>
</body>
</html>
